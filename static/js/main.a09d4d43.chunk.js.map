{"version":3,"sources":["components/Image.js","components/Gnome.js","components/ListOfGnomes.js","components/Spinner.js","services/getGnomes.js","Icons/Filter.js","components/FilterButton.js","components/Radio.js","components/HairColor.js","pages/Board.js","hooks/useGnomes.js","hooks/useNearScreen.js","App.js","reportWebVitals.js","index.js"],"names":["Image","src","alt","genders","Gnome","thumbnail","name","hairColor","age","weight","height","className","isNaN","style","color","ListOfGnomes","gnomes","map","item","hair_color","Spinner","getGnomes","page","fetch","then","response","json","returnedValues","array","pageSize","pageNumber","filter","current","slice","fakePagination","Brastlewark","catch","error","console","Filter","props","width","xmlns","fillRule","stroke","strokeLinecap","strokeLinejoin","fill","d","MemoFilter","React","FilterButton","onClick","Radio","id","onSelect","value","type","COLORS","HairColor","onChange","Board","useState","setGnomes","searching","setSearching","setHairColor","setPage","useEffect","prev","concat","finally","useGnomes","showFilters","setShowFilters","externalRef","useRef","distance","once","isNearScreen","setShow","fromRef","element","observer","IntersectionObserver","entries","isIntersecting","disconnect","rootMargin","observe","useNearScreen","debounceHandleNextPage","useCallback","debounce","currentPage","renderFilters","ref","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a09d4d43.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function Image({ src, alt = '' }) {\r\n  return <img src={src} alt={alt} />\r\n}\r\n","import React from 'react'\nimport Image from 'components/Image'\nimport './Gnome.css'\n\nconst genders = {\n  0: 'Male',\n  1: 'Famele',\n}\n\nexport default function Gnome({\n  thumbnail,\n  name,\n  hairColor,\n  age,\n  weight,\n  height,\n}) {\n  const renderGender = () => {\n    return isNaN(age) ? (\n      <p style={{ color: 'red' }}>\n        <strong>{'Gender '}</strong>Not defined\n      </p>\n    ) : (\n      <p>\n        <strong>{'Gender '}</strong>\n        {genders[age % 2]}\n      </p>\n    )\n  }\n\n  return (\n    <div className=\"gnome-container\">\n      <header>\n        <h1>{name}</h1>\n      </header>\n      <Image src={thumbnail} alt={name} />\n      <div className=\"gnome-data\">\n        <p>\n          <strong>{'Age '}</strong>\n          {isNaN(age) ? '-' : age}\n        </p>\n        <p>\n          <strong>{'Hair color '}</strong>\n          {hairColor}\n        </p>\n        <p>\n          <strong>{'Weight '}</strong>\n          {weight}\n        </p>\n        <p>\n          <strong>{'Height '}</strong>\n          {height}\n        </p>\n        {renderGender()}\n      </div>\n    </div>\n  )\n}\n","import Gnome from 'components/Gnome'\nimport React from 'react'\nimport './ListOfGnomes.css'\n\nexport default function ListOfGnomes({ gnomes }) {\n  const renderGnomes = () => (\n    <section className=\"list-gnome-container\">\n      {gnomes.map((item) => (\n        <Gnome\n          thumbnail={item.thumbnail}\n          key={item.name}\n          name={item.name}\n          hairColor={item.hair_color}\n          age={item.age}\n          weight={item.weight}\n          height={item.height}\n        />\n      ))}\n    </section>\n  )\n\n  return renderGnomes()\n}\n","import React from 'react'\nimport './Spinner.css'\n\nconst Spinner = () => (\n  <div className=\"spinner-container\">\n    <div className=\"spinner\" />\n  </div>\n)\n\nexport default Spinner\n","// const API_BRASTLEWARK = window._env_.API_BRASTLEWARK;\r\nconst PAGE_SIZE = 20\r\n\r\nexport default function getGnomes({ page = 1, hairColor = 'All' }) {\r\n  return fetch(\r\n    'https://raw.githubusercontent.com/rrafols/mobile_test/master/data.json'\r\n  )\r\n    .then((response) => {\r\n      return response.json()\r\n    })\r\n    .then((response) => {\r\n      const { Brastlewark } = response\r\n      const returnedValues = fakePagination(\r\n        Brastlewark,\r\n        PAGE_SIZE,\r\n        page,\r\n        hairColor\r\n      )\r\n      return returnedValues\r\n    })\r\n    .catch((error) => console.error(error))\r\n}\r\n\r\nfunction fakePagination(array, pageSize, pageNumber, hairColor) {\r\n  if (hairColor !== 'All') {\r\n    const filteredArray = array.filter(\r\n      (current) => current.hair_color === hairColor\r\n    )\r\n    return filteredArray.slice(\r\n      (pageNumber - 1) * pageSize,\r\n      pageNumber * pageSize\r\n    )\r\n  }\r\n  return array.slice((pageNumber - 1) * pageSize, pageNumber * pageSize)\r\n}\r\n","import * as React from 'react'\r\n\r\nfunction Filter(props) {\r\n  return (\r\n    <svg height={21} width={21} xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n      <g\r\n        fillRule=\"evenodd\"\r\n        stroke=\"currentColor\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        fill={props.fill}\r\n      >\r\n        <path\r\n          d=\"M6.5 4a1 1 0 011 1v2a1 1 0 11-2 0V5a1 1 0 011-1zM18.5 6h-11M5.5 6h-3M6.5 14a1 1 0 011 1v2a1 1 0 01-2 0v-2a1 1 0 011-1zM18.5 16h-11M5.5 16h-3M14.5 9a1 1 0 011 1v2a1 1 0 01-2 0v-2a1 1 0 011-1zM13.5 11h-11M18.5 11h-3\"\r\n          fill={props.fill}\r\n        />\r\n      </g>\r\n    </svg>\r\n  )\r\n}\r\n\r\nconst MemoFilter = React.memo(Filter)\r\nexport default MemoFilter\r\n","import React from 'react'\r\nimport Filter from 'Icons/Filter'\r\nimport './FilterButton.css'\r\nexport default function FilterButton({ onClick }) {\r\n  return (\r\n    <button className=\"btn\" onClick={onClick}>\r\n      <Filter />\r\n    </button>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './Radio.css'\r\n\r\nexport default function Radio({\r\n  id = 'any',\r\n  name = 'name',\r\n  onSelect,\r\n  value = 'any',\r\n}) {\r\n  const onClick = () => {\r\n    onSelect(id)\r\n  }\r\n\r\n  return (\r\n    <label>\r\n      <input id={id} type=\"radio\" name={name} onClick={onClick} value={value} />\r\n      <span>{value}</span>\r\n    </label>\r\n  )\r\n}\r\n","import Radio from 'components/Radio'\r\n\r\nimport React from 'react'\r\nimport './HairColor.css'\r\n\r\nconst COLORS = ['Pink', 'Green', 'Red', 'Black', 'Gray', 'All']\r\n\r\nexport default function HairColor({ onSelect }) {\r\n  const onChange = (value) => {\r\n    onSelect(value)\r\n  }\r\n\r\n  const renderDifficulties = () => {\r\n    return COLORS.map((item) => (\r\n      <div key={item}>\r\n        <Radio id={item} name={'hairColr'} onSelect={onChange} value={item} />\r\n      </div>\r\n    ))\r\n  }\r\n\r\n  return (\r\n    <div className=\"hair-color-container\">\r\n      <section>{renderDifficulties()}</section>\r\n    </div>\r\n  )\r\n}\r\n","import ListOfGnomes from 'components/ListOfGnomes'\r\nimport Spinner from 'components/Spinner'\r\nimport useGnomes from 'hooks/useGnomes'\r\nimport useNearScreen from 'hooks/useNearScreen'\r\nimport debounce from 'just-debounce-it'\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react'\r\nimport FilterButton from 'components/FilterButton'\r\nimport HairColor from 'components/HairColor'\r\nimport './Board.css'\r\n\r\nexport default function Board() {\r\n  const { gnomes, searching, setPage, setHairColor } = useGnomes()\r\n  const [showFilters, setShowFilters] = useState(false)\r\n\r\n  const externalRef = useRef()\r\n\r\n  const { isNearScreen } = useNearScreen({\r\n    externalRef: searching ? null : externalRef,\r\n    once: false,\r\n  })\r\n\r\n  const debounceHandleNextPage = useCallback(\r\n    debounce(() => setPage((currentPage) => currentPage + 1), 200),\r\n    [setPage]\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (isNearScreen) debounceHandleNextPage()\r\n  }, [debounceHandleNextPage, isNearScreen])\r\n\r\n  const handleHairColorChange = (color) => {\r\n    setHairColor(color)\r\n  }\r\n\r\n  if (searching) return <Spinner />\r\n\r\n  const renderFilters = showFilters && (\r\n    <HairColor onSelect={handleHairColorChange} />\r\n  )\r\n\r\n  const changeFilterState = () => {\r\n    setShowFilters((prev) => !prev)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"board-title\">Brastlewark Fellowship </h1>\r\n      <div className=\"board-btn\">\r\n        <FilterButton onClick={changeFilterState} />\r\n      </div>\r\n      {renderFilters}\r\n      <ListOfGnomes gnomes={gnomes} />\r\n      <section className=\"board-footer\" id=\"observable\" ref={externalRef}>\r\n        <Spinner />\r\n      </section>\r\n    </>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport getGnomes from 'services/getGnomes'\r\n\r\nconst INITIAL_PAGE = 1\r\nconst INITIAL_HAIR_COLOR = 'All'\r\nexport default function useGnomes() {\r\n  const [gnomes, setGnomes] = useState([])\r\n  const [searching, setSearching] = useState(false)\r\n  const [hairColor, setHairColor] = useState(INITIAL_HAIR_COLOR)\r\n  const [page, setPage] = useState(INITIAL_PAGE)\r\n\r\n  useEffect(() => {\r\n    setSearching(true)\r\n\r\n    getGnomes({ page: page, hairColor: hairColor })\r\n      .then((response) => {\r\n        setGnomes((prev) => prev.concat(response))\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      })\r\n      .finally(setSearching(false))\r\n  }, [page, hairColor])\r\n\r\n  useEffect(() => {\r\n    setSearching(true)\r\n    getGnomes({ page: page, hairColor: hairColor })\r\n      .then((response) => {\r\n        setGnomes(response)\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n      })\r\n      .finally(setSearching(false))\r\n  }, [hairColor])\r\n\r\n  return { gnomes, searching, setPage, setHairColor }\r\n}\r\n","import { useEffect, useRef, useState } from 'react'\r\n\r\nexport default function useNearScreen({\r\n  distance = '100px',\r\n  externalRef,\r\n  once = true,\r\n} = {}) {\r\n  const [isNearScreen, setShow] = useState(false)\r\n  const fromRef = useRef()\r\n\r\n  useEffect(() => {\r\n    const element = externalRef ? externalRef.current : fromRef.current\r\n\r\n    const onChange = (entries, observer) => {\r\n      const el = entries[0]\r\n\r\n      if (el.isIntersecting) {\r\n        setShow(true)\r\n        once && observer.disconnect()\r\n      } else {\r\n        !once && setShow(false)\r\n      }\r\n    }\r\n\r\n    const observer = new IntersectionObserver(onChange, {\r\n      rootMargin: distance,\r\n    })\r\n\r\n    if (element) observer.observe(element)\r\n\r\n    return () => observer && observer.disconnect()\r\n  })\r\n\r\n  return { isNearScreen, fromRef }\r\n}\r\n","import Board from 'pages/Board'\nimport React from 'react'\n\nexport default function App() {\n  return (\n    <div className=\"app-container\">\n      <Board />\n    </div>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}